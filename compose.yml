# vget Docker Compose
#
# Image variants (choose based on your system):
#   ghcr.io/guiyumin/vget:latest  - No model bundled, downloads on first use (~150MB)
#   ghcr.io/guiyumin/vget:small   - ggml-small.bin for NAS <8GB RAM (~400MB)
#   ghcr.io/guiyumin/vget:medium  - ggml-medium.bin for 8-16GB RAM (~900MB)
#   ghcr.io/guiyumin/vget:large   - ggml-large-v3-turbo for GPU users (~1.7GB)
#
# Configure via .env file or environment variables:
#   VGET_PORT=8080              # Web UI port
#   VGET_DOWNLOADS=./downloads  # Download directory
#   VGET_CONFIG=./config        # Config directory
#   TZ=Asia/Shanghai            # Timezone
#
# Example paths by NAS:
#   Synology:  /volume1/vget/downloads
#   QNAP:      /share/vget/downloads
#   Unraid:    /mnt/user/vget/downloads
#   TrueNAS:   /mnt/pool/vget/downloads

services:
  vget:
    # Change to :small, :medium, or :large based on your RAM/GPU
    image: ghcr.io/guiyumin/vget:latest
    container_name: vget
    restart: unless-stopped
    ports:
      - "${VGET_PORT:-8080}:8080"
    volumes:
      - ${VGET_DOWNLOADS:?Set VGET_DOWNLOADS in .env}:/home/vget/downloads
      - ${VGET_CONFIG:?Set VGET_CONFIG in .env}:/home/vget/.config/vget
    environment:
      - TZ=${TZ:-Asia/Shanghai}
